<app-header [backPath]="true" (onClickButton)="onHeaderClick($event)"></app-header>
<div class="uk-container">
  <nav class="uk-navbar-container uk-margin" uk-navbar>
    <div class="uk-navbar-left">
      <a class="uk-navbar-item uk-logo">{{'station'|translate}} {{'configuration'|translate}}</a>
    </div>
    <div class="uk-navbar-right">
    </div>
  </nav>

  <fieldset class="uk-fieldset uk-background-muted uk-padding-small">
	<div class="uk-margin">
        <input class="uk-input" type="text" placeholder="*{{'station'|translate}} {{'name'|translate}}" [(ngModel)]="station.name">
	</div>
	<div class="uk-margin">
        <input class="uk-input" type="text" placeholder="{{'detail'|translate}}" [(ngModel)]="station.detail">
	</div>
	<div class="uk-margin">
        <button class="uk-button uk-button-primary uk-border-rounded" (click)="createStation()">{{'create'|translate}} {{'station'|translate}}</button>
	</div>
  </fieldset>

<div class="uk-card uk-card-default uk-margin" style="border:1px solid #ddd;" *ngFor="let station of stations; let i = index">
    <div class="uk-card-header uk-background-muted">
		<div class="uk-width-expand">
			<h3 class="uk-card-title uk-margin-remove-bottom">{{station.name}}</h3>
			<p class="uk-text-meta uk-margin-remove-top">{{'id' |translate}}: {{station.id}}</p>
			<p>{{'detail' |translate}}: {{station.detail}}</p>
			<p *ngFor="let node of station.nodes;">
				{{node}}
			</p>
		</div>
    </div>
    <div class="uk-card-footer">
        <button class="uk-button uk-button-mute uk-button-small uk-border-rounded" (click)="editStation(station.id)">{{'edit'|translate}}</button>
        <button class="uk-button uk-button-mute uk-button-small uk-border-rounded uk-margin-left" (click)="deleteStation(station.id, station.name)">{{'delete'|translate}}</button>
	</div>
</div>  
  
<div class=" uk-margin">
  <ul class="uk-pagination uk-flex-center" uk-margin>
    <li *ngIf="pageController.pageIndex != 1">
      <a (click)="changePageonClick(false,-1)">
        <span uk-pagination-previous></span>
      </a>
    </li>
    <li *ngIf="pageController.pageIndex > 4" class="uk-disabled">
      <span>...</span>
    </li>
    <li *ngFor="let index of pageController.pageArray" [class.uk-active]="index==pageController.pageIndex">
      <a (click)="changePageonClick(true,index)">{{index}}</a>
    </li>
    <!-- <li class="uk-active"><span>4</span></li> -->
    <li *ngIf="pageController.pageNumber - pageController.pageIndex > 3" class="uk-disabled">
      <span>...</span>
    </li>
    <li *ngIf="pageController.pageIndex != pageController.pageNumber">
      <a (click)="changePageonClick(false,1)">
        <span uk-pagination-next></span>
      </a>
    </li>
  </ul>
</div>  

</div>
<app-confirm-modal [elementId]="confirmModal.elementId" [detail]="confirmModal.detail" (onClick)="onClickConfirmModal($event)"></app-confirm-modal>

<!-- <div id="modal-confirm" uk-modal>
  <div class="uk-modal-dialog uk-modal-body">
    <p>{{'save configuration'}}?</p>
    <p class="uk-text-right">
      <button class="uk-button uk-button-primary uk-border-rounded uk-margin-small-left" type="button" (click)="modalConfirm()">{{'confirm'|translate}}</button>
      <button class="uk-button uk-button-default uk-border-rounded uk-margin-small-left" type="button" (click)="modalCancel()">{{'cancel'|translate}}</button>
    </p>
  </div>
</div> -->

<div class="loading" *ngIf="loading">
  <span class="uk-margin-small-right" uk-spinner="ratio: 3"></span>
</div>